_План автоматизации тестирования web-приложения покупки тура._  
_Приложение предлагает приобретение тура по определённой цене, оплата осуществляется банковской картой, либо 
выдается кредит по данным банковской карты ._

![](https://github.com/Kirilova2023/diplom/blob/master/documents/Screenshoots/Main.png)

#### Перечень автоматизируемых сценариев.
##### Тестирование UI.

###### Требования к содержимому полей:
* Номер карты:
    * Поле должно содержать только цифры
    * Количество цифр - 16 
* Месяц:
    * Поле должно содержать только цифры, от  01 до 12.
    * Количество цифр в поле - 2.
    * При совпадении значения поля год, месяц должен быть не более текущего  
* Год:
    * Поле должно содержать только цифры.
    * Количество цифр в поле - 2.
    * Год должен быть не менее текущего
* Владелец:
    * Допустимо вводить латинские буквы, в любом регистре + 1 пробел    * 
    * Допустимо вводить символы "-","." и " "    
    * Максимальное количество символов - 30  
    * Поле не должно обязательно заполняться
* CVC/CVV:
    * Поле должно содержать только 3 цифры    
    

___

###### Happy cases.
Позитивные сценарии, при которых поля заполнены согласно требованиям.

_Сценарий 1._  
_Отправить заявку на покупку тура, с оплатой банковской картой с полями заполненными согласно требованиям
. Фамилия владельца - Латинские буквы_
1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 08
    * год: 27
    * владелец: IVANOV IVAN
    * CVC/CVV: 123
4. Кликнуть по кнопке "Продолжить"
5. Оценить результат.
   Должно появиться уведомление:

![success result](https://github.com/Kirilova2023/diplom/blob/master/documents/Screenshoots/Operation_OK.png)
___
_Сценарий 2._  
_Отправить заявку на покупку тура, с оплатой банковской картой с полями заполненными согласно требованиям
. Фамилия владельца - Латинские буквы + символ "-" _

1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 08
    * год: 27
    * владелец: IVANOV-PETROV IVAN
    * CVC/CVV: 123
4. Кликнуть по кнопке "Продолжить"
5. Оценить результат.
   Должно появиться уведомление:

![success result](https://github.com/Kirilova2023/diplom/blob/master/documents/Screenshoots/Operation_OK.png)
___
_Сценарий 3._  
_Отправить заявку на покупку тура, с оплатой банковской картой с полями заполненными согласно требованиям
. Фамилия владельца - Латинские буквы + символ "." _
1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 08
    * год: 27
    * владелец: MR. IVANOV
    * CVC/CVV: 123
4. Кликнуть по кнопке "Продолжить"
5. Оценить результат.
   Должно появиться уведомление:

![success result](https://github.com/Kirilova2023/diplom/blob/master/documents/Screenshoots/Operation_OK.png)

_Сценарий 4._  
_Отправить заявку на покупку тура, с оплатой банковской картой с полями заполненными согласно требованиям
. Указание карты, которая находится в списке отклоненных _
1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4442
    * месяц: 08
    * год: 27
    * владелец:IVANOV IVAN
    * CVC/CVV: 123
4. Кликнуть по кнопке "Продолжить"
5. Оценить результат.
   Должно появиться уведомление:

![error result](https://github.com/Kirilova2023/diplom/blob/master/documents/Screenshoots/Operation_Fail.png)

___
_Сценарий 5._  
_Отправить заявку на покупку тура, с оплатой банковской картой с полями заполненными согласно требованиям
. Фамилия владельца - не заполнено_
1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
   * номер карты: 4444 4444 4444 4441
   * месяц: 08
   * год: 27
   * владелец:
   * CVC/CVV: 123
4. Кликнуть по кнопке "Продолжить"
5. Оценить результат.
   Должно появиться уведомление:

![success result](https://github.com/Kirilova2023/diplom/blob/master/documents/Screenshoots/Operation_OK.png)

___
Все сценарии протестировать также на вкладке "Купить в кредит".
___

##### Bad cases
Негативные сценарии, при которых поля заполнены не по требованиям.

_Сценарий 1._   
_Отправить заявку на покупку тура, с оплатой банковской картой
. Указание пустого номера карты_

1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты:
    * месяц: 08
    * год: 27
    * владелец: IVANOV IVAN
    * CVC/CVV: 125
4. Кликнуть по кнопке "Продолжить"
5. Оценить результат.
   Должна появиться ошибка валидации поля "Номер карты" : "Поле обязательно для заполнения".

_Сценарий 2._   
_Отправить заявку на покупку тура, с оплатой банковской картой
. Указание пустого поля CVV_

1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
   * номер карты: 4444 4444 4444 4441
   * месяц: 08
   * год: 27
   * владелец: IVANOV IVAN
   * CVC/CVV: 
4. Кликнуть по кнопке "Продолжить"
5. Оценить результат.
   Должна появиться ошибка валидации поля "CVV" : "Поле обязательно для заполнения".

_Сценарий 3._   
_Отправить заявку на покупку тура, с оплатой банковской картой
. Указание пустого поля Месяц_

1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
   * номер карты: 4444 4444 4444 4441
   * месяц: 
   * год: 27
   * владелец: IVANOV IVAN
   * CVC/CVV: 123
4. Кликнуть по кнопке "Продолжить"
5. Оценить результат.
   Должна появиться ошибка валидации поля "Месяц" : "Поле обязательно для заполнения".

_Сценарий 4._   
_Отправить заявку на покупку тура, с оплатой банковской картой
. Указание пустого поля Год_

1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
   * номер карты: 4444 4444 4444 4441
   * месяц: 08
   * год: 
   * владелец: IVANOV IVAN
   * CVC/CVV: 123
4. Кликнуть по кнопке "Продолжить"
5. Оценить результат.
   Должна появиться ошибка валидации поля "Год" : "Поле обязательно для заполнения".

___
_Сценарий 5._  
_Отправить заявку на покупку тура, с оплатой банковской картой
. Указание несуществующей карты_
1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4444
    * месяц: 08
    * год: 27
    * владелец: IVANOV IVAN
    * CVC/CVV: 123
4. Кликнуть по кнопке "Продолжить"
5. Оценить результат.
   Должно появиться уведомление с ошибкой:

![error result](https://github.com/Kirilova2023/diplom/blob/master/documents/Screenshoots/Operation_Fail.png)

___
_Сценарий 6._  
_Отправить заявку на покупку тура, с оплатой банковской картой. Цифр номера карты менее 16_

1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 444
    * месяц: 08
    * год: 27
    * владелец: IVANOV IVAN
    * CVC/CVV: 123
4. Кликнуть по кнопке "Продолжить"
5. Оценить результат.
   Должна появиться ошибка валидации поля "Номер карты" : "Неверный формат".

___
_Сценарий 7._  
_Отправить заявку на покупку тура, с оплатой банковской картой. Одна цифра в месяце_ 

1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 1
    * год: 27
    * владелец: IVANOV IVAN
    * CVC/CVV: 123
4. Кликнуть на окно "Продолжить"
5. Оценить результат.
   Должна появиться ошибка валидации поля "Месяц": "Неверный формат"


___
_Сценарий 8._  
_Отправить заявку на покупку тура, с оплатой банковской картой. Одна цифра в годе_
1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 01
    * год: 7
    * владелец: IVANOV IVAN
    * CVC/CVV: 123
4. Кликнуть на окно "Продолжить"
5. Оценить результат.
   Должна появиться ошибка валидации поля "Год": "Неверный формат"
___
_Сценарий 9._  
_Отправить заявку на покупку тура, с оплатой банковской картой. Истекшая карта_
1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
   * номер карты: 4444 4444 4444 4441
   * месяц: 01
   * год: 23
   * владелец: IVANOV IVAN
   * CVC/CVV: 123
4. Кликнуть на окно "Продолжить"
5. Оценить результат.
   Должна появиться ошибка валидации поля "Год": "Истёк срок действия карты"

___
_Сценарий 10._  
_Отправить заявку на покупку тура, с оплатой банковской картой. Владелец с некорректными символами_
1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
   * номер карты: 4444 4444 4444 4441
   * месяц: 03
   * год: 28
   * владелец: ИВАНОВ ИВАН
   * CVC/CVV: 123
4. Кликнуть на окно "Продолжить"
5. Оценить результат.
   Должна появиться ошибка валидации поля "Владелец": "Неверный формат"

___
_Сценарий 11._  
_Отправить заявку на покупку тура, с оплатой банковской картой. Владелец слишком длинное значение_
1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Заполнить данные карты тестовыми данными:
   * номер карты: 4444 4444 4444 4441
   * месяц: 03
   * год: 28
   * владелец: ИВАНОВИВАНИВАНОВИВАНИВАНОВИВАНИВАНОВИВАНИВАНОВИВАНИВАНОВИВАНИВАНОВИВАНИВАНОВИВАНИВАНОВИВАН
   * CVC/CVV: 123
4. Кликнуть на окно "Продолжить"
5. Оценить результат.
   Должна появиться ошибка валидации поля "Владелец": "Неверный формат"



___
Все выше описанные сценарии протестировать со вкладкой "Купить в кредит".
___

#### Тестирование записи в БД
Проверка записи статусов в БД.

_Сценарий 1._

_Фиксация покупки по карте в БД - действительная карта_
1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Отправляем запрос на покупку с действительной картой.
    * номер карты: 4444 4444 4444 4441
    * месяц: 08
    * год: 28
    * владелец: IVANOV IVAN
    * CVC/CVV: 123
4. Кликнуть на окно "Продолжить"
5. Оценить результат.
   * В таблицу payment_entity внесены данные о платеже. 
   * В поле Amount - значение 45000
   * В поле Status - значение APPROVED
   * В поле created - актуальная дата
   * В поле transaction_id - Guid транзакции из payment_entity
   * В поле id - Guid
   * В таблицу order_entity внесены данные о заказе
   * В поле id - Guid
   * в поле created - актуальная дата
   * в поле payment_entity id из столбца id в таблице payment_entity

___
_Сценарий 2._

_Фиксация покупки по карте в БД - недействительная карта_
1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Отправляем запрос на покупку с недействительной картой.
   * номер карты: 4444 4444 4444 4442
   * месяц: 08
   * год: 28
   * владелец: IVANOV IVAN
   * CVC/CVV: 123
4. Кликнуть на окно "Продолжить"
5. Оценить результат.
   * В таблицу payment_entity внесены данные о платеже.
   * В поле Amount - значение 45000
   * В поле Status - значение DECLINED
   * В поле created - актуальная дата
   * В поле transaction_id - Guid транзакции из payment_entity
   * В поле id - Guid
   * В таблицу order_entity внесены данные о заказе
   * В поле id - Guid
   * в поле created - актуальная дата
   * в поле payment_entity id из столбца id в таблице payment_entity

___
_Сценарий 3._

_Фиксация кредита в БД - недействительная карта_

1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Отправляем запрос на кредит с недействительной картой.
   * номер карты: 4444 4444 4444 4442
   * месяц: 08
   * год: 28
   * владелец: IVANOV IVAN
   * CVC/CVV: 123
4. Кликнуть на окно "Продолжить"
5. Оценить результат.
   * В таблицу credit_request_entity внесены данные о платеже.   *
   * В поле Status - значение DECLINED
   * В поле created - актуальная дата
   * В поле bank_id - Guid транзакции
   * В поле id - Guid
   * В таблицу order_entity внесены данные о заказе
   * В поле id - Guid
   * в поле created - актуальная дата
   * в поле credit_entity id из столбца id в таблице credit_entity.
___

_Сценарий 4._

_Фиксация кредита в БД - действительная карта_

1. Зайти на сайт http://localhost:8090/
2. Кликнуть по кнопке "Купить".
3. Отправляем запрос на кредит с действительной картой.
   * номер карты: 4444 4444 4444 4441
   * месяц: 08
   * год: 28
   * владелец: IVANOV IVAN
   * CVC/CVV: 123
4. Кликнуть на окно "Продолжить"
5. Оценить результат.
   * В таблицу credit_request_entity внесены данные о платеже.   *
   * В поле Status - значение DECLINED
   * В поле created - актуальная дата
   * В поле bank_id - Guid транзакции
   * В поле id - Guid
   * В таблицу order_entity внесены данные о заказе
   * В поле id - Guid
   * в поле created - актуальная дата
   * в поле credit_entity id из столбца id в таблице credit_entity.
______
#### Перечень используемых инструментов:

* IntelliJ IDEA - IDE. Все необходимые инструменты уже под рукой, а значит не нужно тратить время на поиск и установку плагинов для работы с определенным языком или технологией.
* Java 15 - Oracle Java — язык программирования и платформа разработки № 1 в мире. Он уменьшает затраты, сокращает сроки разработки, стимулирует инновации и совершенствует сервисы приложений. Миллионы разработчиков, более 60 миллиарда работающих виртуальных машин Java во всем мире — Java продолжает оставаться предпочтительной платформой разработки для компаний и разработчиков. 
* Gradle - система для автоматизации сборки приложений и сбора статистики об использовании программных библиотек, применяющая языки Groovy, Java, JavaScript, Kotlin и т. д., а также решения из фреймворков Apache Ant и Apache Maven.
* JUnit5 - платформа написания автотестов и их запуска, содержит множество аннотаций и assert’ов.
* Selenide - фреймворк для автоматизированного тестирования веб-приложений. Простой в настройке и удобный в использовании. 
* Allure - фреймворк для создания визуальной картины выполнения тестов. Дает подробный результат прохождения тестов.
* Node.JS - кросс-платформенная среда выполнения JavaScript с открытым исходным кодом.
* Tortoise GIT - визуальный клиент системы управления исходными кодами программ git для ОС Microsoft Windows.
* Сервис GitHub - место для хранения кода и авто-тестов.


#### Перечень и описание возможных рисков при автоматизации:
1. Изменение интерфейса. В случае изменения интерфейса тесты могут стать не актуальными
2. Изменение бизнес логики приложения. В случае изменения бизнес-логики тесты могут стать не актуальными
3. Большое количество дефектов в функциональности не позволит правильно написать тесты
4. Проблемы окружения. Неработоспособность приложения и/или его развертывания не позволит провести тестирование
5. Проблемы с тестовыми данными. Узкий набор тестовых данных не позволит отловить ошибки production среды 
6. Инфраструктурные проблемы. Невозможность проведения тестирования из-за настроек сетевого уровня


#### Интервальная оценка с учётом рисков:
1й этап: планирование автоматизации тестирования - 16 часов.  
2й этап: автоматизация - 72 часа.  
3й этап: подготовка отчётных документов по итогам автоматизированного тестирования - 8 часов.  
4й этап: подготовка отчётных документов по итогам автоматизации - 8 часов.  
Риски - 16 часов.


#### План сдачи работ:

Написание авто-тестов после согласования плана тестирования. Ориентировочный срок - до 04.08.2023.  
Отчетные документы по итогам автоматизации и автоматизированного тестирования после написания авто-тестов, в течении двух рабочих дней. Ориентировочный срок - до 07.08.2023.  